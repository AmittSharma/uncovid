<mat-card>
    <mat-card-title>Search what you need</mat-card-title>
    <mat-card-content>
    <form (ngSubmit)="getHelp()" [formGroup]="takeHelpForm">
        <div>
        <mat-form-field >
            <mat-label>State</mat-label>
            <mat-select formControlName="stateId"  name="stateId" matInput (selectionChange)="getDistrict($event.value)">
                <mat-option *ngFor="let state of states" [value]="state.stateId" >
                {{state.stateName}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    
        <mat-form-field >
            <mat-label>District</mat-label>
            <mat-select formControlName="districtId"   name="districtId" matInput>
                <mat-option *ngFor="let district of districts" [value]="district.districtId" >
                {{district.districtName}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        
        <mat-form-field >
            <mat-label>Category</mat-label>
            <mat-select formControlName="categoryId"  name="categoryId" >
                <mat-option *ngFor="let catogory of categories" [value]="catogory.categoryId" >
                {{catogory.categoryName}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        </div>
        <mat-card-actions>
            <button mat-raised-button color="primary" type="submit">Submit</button>
        </mat-card-actions>
    </form>
    </mat-card-content>
    </mat-card>

    <mat-form-field >
        <input  type = "text" matInput (keyup)="filterData($event)" placeholder="Filter Search Result">
    </mat-form-field>
    
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort >

        <ng-container matColumnDef="state">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> State </th>
          <td mat-cell *matCellDef="let help"> {{help.helpId}} </td>
        </ng-container>

        <ng-container matColumnDef="district">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> District </th>
            <td mat-cell *matCellDef="let help"> {{help.disctrictId}} </td>
        </ng-container>
        
        <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Category </th>
            <td mat-cell *matCellDef="let help"> {{help.categoryId}} </td>
        </ng-container>
        
        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
            <td mat-cell *matCellDef="let help"> {{help.description}} </td>
        </ng-container>

        <ng-container matColumnDef="cost">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cost </th>
            <td mat-cell *matCellDef="let help"> {{help.paidOrFree}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Contact Person </th>
            <td mat-cell *matCellDef="let help"> {{help.contactPersonName}} </td>
        </ng-container>

        <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Contact Name </th>
            <td mat-cell *matCellDef="let help"> {{help.contactNumber}} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 15, 20]" showFirstLastButtons></mat-paginator>